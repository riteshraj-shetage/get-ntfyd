# ntfy server configuration
# Official docs: https://docs.ntfy.sh/config/

# Web UI settings
enable-signup: false       # Disable public signups for security
enable-login: true         # Enable login page
enable-reservations: false # Disable topic reservations (use ACLs instead)

# Default access policy 
auth-default-access: "deny-all"

# Behind proxy setting
behind-proxy: true

# Storage paths
cache-file: "/var/lib/ntfy/cache.db"
attachment-cache-dir: "/var/lib/ntfy/attachments"
auth-file: "/var/lib/ntfy/users.db"

# Cache settings
cache-duration: "12h"            
keepalive-interval: "45s"        

# Attachment settings
attachment-total-size-limit: "5G"   
attachment-file-size-limit: "15M"   
attachment-expiry-duration: "3h"   

# Rate Limiting Defaults (Proxy-Aware)
# These limits apply per visitor IP (not the proxy IP when behind-proxy: true)
visitor-subscription-limit: 30            
visitor-request-limit-burst: 60            
visitor-request-limit-replenish: "5s"      
visitor-message-daily-limit: 0              # 0 = unlimited daily messages
